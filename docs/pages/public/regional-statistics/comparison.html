<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regional Comparison - McKnight's American Football</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static-football-rankings/css/styles.css" rel="stylesheet">
    <style>
        .comparison-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem;
            border-radius: 10px;
            margin-bottom: 2rem;
        }
        .chart-card {
            background: white;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .summary-table th {
            background-color: #667eea;
            color: white;
        }
        .region-link {
            text-decoration: none;
        }
        .region-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <!-- Header Banner -->
    <div class="header-banner">
        <img src="/static-football-rankings/images/football-field-top.jpg" alt="Football Field Header" class="w-100" />
    </div>

    <!-- Breadcrumb -->
    <div class="container mt-3">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/static-football-rankings/">Home</a></li>
                <li class="breadcrumb-item"><a href="/static-football-rankings/pages/public/regional-statistics/">Regional Statistics</a></li>
                <li class="breadcrumb-item active">Regional Comparison</li>
            </ol>
        </nav>
    </div>

    <div class="container mt-4 mb-5">
        <!-- Header -->
        <div class="comparison-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1>Regional Comparison</h1>
                    <p class="mb-0">Compare game coverage across all 5 regions over time</p>
                </div>
                <div class="col-md-4 text-end">
                    <a href="/static-football-rankings/pages/public/regional-statistics/" class="btn btn-light">‚Üê Back to All Regions</a>
                </div>
            </div>
        </div>

        <!-- Comparison Chart -->
        <div class="chart-card">
            <h5>Games by Season - All Regions</h5>
            <iframe 
                src="/static-football-rankings/data/regional-statistics/regional_comparison.html" 
                width="100%" 
                height="650" 
                frameborder="0"
                style="border: none;">
            </iframe>
        </div>

        <!-- Summary Table -->
        <div class="chart-card">
            <h5>Regional Summary</h5>
            <div class="table-responsive">
                <table class="table table-striped summary-table">
                    <thead>
                        <tr>
                            <th>Region</th>
                            <th>Total Games</th>
                            <th>Season Range</th>
                            <th>Total Seasons</th>
                            <th>States/Provinces</th>
                            <th>With Data</th>
                        </tr>
                    </thead>
                    <tbody id="summary-table-body">
                        <tr>
                            <td colspan="6" class="text-center">Loading...</td>
                        </tr>
                    </tbody>
                    <tfoot id="summary-table-footer">
                    </tfoot>
                </table>
            </div>
        </div>

        <!-- Region Quick Links -->
        <div class="chart-card">
            <h5>Explore Individual Regions</h5>
            <div class="row text-center">
                <div class="col-md-2 col-4 mb-3">
                    <a href="/static-football-rankings/pages/public/regional-statistics/northeast.html" class="btn btn-primary w-100">Northeast</a>
                </div>
                <div class="col-md-2 col-4 mb-3">
                    <a href="/static-football-rankings/pages/public/regional-statistics/southern.html" class="btn btn-success w-100">Southern</a>
                </div>
                <div class="col-md-2 col-4 mb-3">
                    <a href="/static-football-rankings/pages/public/regional-statistics/midwest.html" class="btn btn-warning w-100">Midwest</a>
                </div>
                <div class="col-md-2 col-4 mb-3">
                    <a href="/static-football-rankings/pages/public/regional-statistics/western.html" class="btn btn-danger w-100">Western</a>
                </div>
                <div class="col-md-2 col-4 mb-3">
                    <a href="/static-football-rankings/pages/public/regional-statistics/canada.html" class="btn btn-info w-100">Canada</a>
                </div>
            </div>
        </div>
    </div>

    <footer class="mt-5 mb-3">
        <div class="container text-center">
            <p>&copy; 2025 McKnight's Football Rankings</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Load summary data
        fetch('/static-football-rankings/data/regional-statistics/all_regions_summary.json')
            .then(response => response.json())
            .then(data => {
                const tbody = document.getElementById('summary-table-body');
                const tfoot = document.getElementById('summary-table-footer');
                
                const regions = ['Northeast', 'Southern', 'Midwest', 'Western', 'Canada'];
                const colors = {
                    'Northeast': 'primary',
                    'Southern': 'success',
                    'Midwest': 'warning',
                    'Western': 'danger',
                    'Canada': 'info'
                };
                const links = {
                    'Northeast': 'northeast',
                    'Southern': 'southern',
                    'Midwest': 'midwest',
                    'Western': 'western',
                    'Canada': 'canada'
                };
                
                let totalGames = 0;
                let html = '';
                
                regions.forEach(region => {
                    const regionData = data[region];
                    if (regionData) {
                        totalGames += regionData.total_games || 0;
                        html += `
                            <tr>
                                <td>
                                    <a href="/static-football-rankings/pages/public/regional-statistics/${links[region]}.html" 
                                       class="region-link text-${colors[region]} fw-bold">
                                        ${region}
                                    </a>
                                </td>
                                <td>${regionData.total_games ? regionData.total_games.toLocaleString() : 'N/A'}</td>
                                <td>${regionData.earliest_season || '?'} - ${regionData.latest_season || '?'}</td>
                                <td>${regionData.total_seasons || 'N/A'}</td>
                                <td>${regionData.states ? regionData.states.length : 'N/A'}</td>
                                <td>${regionData.states_with_data || 'N/A'}</td>
                            </tr>
                        `;
                    }
                });
                
                tbody.innerHTML = html;
                
                tfoot.innerHTML = `
                    <tr class="table-secondary fw-bold">
                        <td>Total</td>
                        <td>${totalGames.toLocaleString()}</td>
                        <td colspan="4"></td>
                    </tr>
                `;
            })
            .catch(error => {
                console.error('Error loading summary:', error);
                document.getElementById('summary-table-body').innerHTML = 
                    '<tr><td colspan="6" class="text-danger text-center">Error loading data</td></tr>';
            });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ team_name }} - {{ season }} Season</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/styles.css" rel="stylesheet">
    <style>
        .season-header {
            background-color: {{ primary_color }}; /* e.g., #003366 for Everett */
            color: white;
            padding: 3rem 0;
            margin-bottom: 2rem;
        }
        .score-win { color: #28a745; font-weight: bold; }
        .score-loss { color: #dc3545; }
        .score-tie { color: #6c757d; }
        .stat-card { border-left: 4px solid {{ primary_color }}; }
    </style>
</head>
<body>

    <div class="container mt-3">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="/index.html">Home</a></li>
                <li class="breadcrumb-item"><a href="/media_champions.html">Media Champions</a></li>
                <li class="breadcrumb-item"><a href="../index.html">{{ team_name }} Program</a></li>
                <li class="breadcrumb-item active" aria-current="page">{{ season }} Season</li>
            </ol>
        </nav>
    </div>

    <header class="season-header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-2 text-center">
                    <div style="width:100px; height:100px; background:white; border-radius:50%; margin:auto; display:flex; align-items:center; justify-content:center; color:black; font-weight:bold;">Logo</div>
                </div>
                <div class="col-md-8">
                    <h1 class="display-4">{{ team_name }}</h1>
                    <h2>{{ season }} Season Summary</h2>
                    <p class="lead mb-0">Record: {{ record }} | Coach: {{ coach_name }}</p>
                </div>
                <div class="col-md-2 text-end">
                    {% if is_champion %}
                    <span class="badge bg-warning text-dark p-2">üèÜ National Champs</span>
                    {% endif %}
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                
                {% for content in narratives %}
                <div class="card mb-4 shadow-sm">
                    <div class="card-header bg-light">
                        <h5 class="mb-0">{{ content.title }}</h5>
                    </div>
                    <div class="card-body">
                        {{ content.body | safe }}
                    </div>
                </div>
                {% endfor %}

                <h3 class="mt-4 mb-3 border-bottom pb-2">Game Results</h3>
                <div class="table-responsive">
                    <table class="table table-hover table-striped">
                        <thead class="table-dark">
                            <tr>
                                <th>Date</th>
                                <th>Opponent</th>
                                <th>Result</th>
                                <th>Score</th>
                                <th>Location</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for game in schedule %}
                            <tr>
                                <td>{{ game.date }}</td>
                                <td>
                                    {{ game.opponent }}
                                    {% if game.opponent_state != state %}
                                    <span class="badge bg-secondary">{{ game.opponent_state }}</span>
                                    {% endif %}
                                </td>
                                <td class="{{ game.result_class }}">{{ game.result }}</td>
                                <td>{{ game.score }}</td>
                                <td>{{ game.location }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="col-lg-4">
                
                <div class="card mb-4 stat-card">
                    <div class="card-body">
                        <h5 class="card-title">Season Ratings</h5>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                Combined Rating
                                <span class="badge bg-primary rounded-pill">{{ ratings.combined }}</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                Offense Rating
                                <span class="badge bg-success rounded-pill">{{ ratings.offense }}</span>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                Defense Rating
                                <span class="badge bg-danger rounded-pill">{{ ratings.defense }}</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">Key Players</h5>
                    </div>
                    <div class="list-group list-group-flush">
                        {% for player in roster %}
                        <div class="list-group-item">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1">{{ player.name }}</h6>
                            </div>
                            <small class="text-muted">{{ player.details }}</small>
                        </div>
                        {% endfor %}
                    </div>
                </div>

            </div>
        </div>
    </div>

    <footer class="mt-5 py-3 text-center text-muted bg-light">
        <p>Generated by HS Football Database | <a href="../index.html">Return to Program Page</a></p>
    </footer>
</body>
</html>